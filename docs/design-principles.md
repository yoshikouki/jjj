# è¨­è¨ˆåŸå‰‡ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å‰æ

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹è¨­è¨ˆã®å‰æã¨åŸå‰‡ã‚’è¨˜éŒ²ã—ã€ãƒãƒ¼ãƒ ã®å…±é€šèªè­˜ã¨ã—ã¦ç¶­æŒã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

## ğŸ¯ è¨­è¨ˆã®åŸºæœ¬å‰æ

### 1. ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£å„ªå…ˆè¨­è¨ˆ

**å‰æ**: ãƒ†ã‚¹ãƒˆã®æ›¸ãã‚„ã™ã•ã¯ã€è‰¯ã„è¨­è¨ˆã®æœ€ã‚‚é‡è¦ãªæŒ‡æ¨™ã§ã‚ã‚‹

- ãƒ†ã‚¹ãƒˆãŒæ›¸ãã¥ã‚‰ã„ = è¨­è¨ˆã«å•é¡ŒãŒã‚ã‚‹
- `any` å‹ã®ä½¿ç”¨ã¯è¨­è¨ˆã®å•é¡Œã®ã‚·ã‚°ãƒŠãƒ«
- ãƒ¢ãƒƒã‚¯ãŒè¤‡é›‘ = ä¾å­˜é–¢ä¿‚ãŒé©åˆ‡ã§ãªã„

### 2. å¤‰æ›´å®¹æ˜“æ€§ã®é‡è¦–

**å‰æ**: ã‚³ãƒ¼ãƒ‰ã¯å¿…ãšå¤‰æ›´ã•ã‚Œã‚‹

- åˆæœŸå®Ÿè£…ã®é€Ÿåº¦ã‚ˆã‚Šã€å°†æ¥ã®å¤‰æ›´å®¹æ˜“æ€§ã‚’å„ªå…ˆ
- æŠ½è±¡åŒ–ã«ã‚ˆã‚Šå¤‰æ›´ã®å½±éŸ¿ç¯„å›²ã‚’å±€æ‰€åŒ–
- ä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚Šå®Ÿè£…ã®å·®ã—æ›¿ãˆã‚’å®¹æ˜“ã«

### 3. å‹ã¯è¨­è¨ˆãƒ„ãƒ¼ãƒ«

**å‰æ**: å‹ã‚·ã‚¹ãƒ†ãƒ ã¯è¨­è¨ˆæ„å›³ã‚’è¡¨ç¾ã™ã‚‹ç¬¬ä¸€ç´šã®ãƒ„ãƒ¼ãƒ«

- å‹ã§ä¸å¯èƒ½ãªçŠ¶æ…‹ã‚’è¡¨ç¾ã§ããªã„ã‚ˆã†ã«ã™ã‚‹
- å‹ã®æ›–æ˜§ã•ã¯è¨­è¨ˆã®æ›–æ˜§ã•
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã‚¨ãƒ©ãƒ¼ > å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åŸå‰‡

### 1. ä¾å­˜æ€§ã®é€†è»¢åŸå‰‡ï¼ˆDIPï¼‰

```typescript
// âŒ å…·ä½“çš„ãªå®Ÿè£…ã«ä¾å­˜
import { readdir } from 'fs/promises';

// âœ… æŠ½è±¡åŒ–ã«ä¾å­˜
interface FileSystemService {
  readDirectory(path: string): Promise<Result<FileItem[]>>;
}
```

### 2. å˜ä¸€è²¬ä»»åŸå‰‡ï¼ˆSRPï¼‰

```typescript
// âŒ è¤‡æ•°ã®è²¬ä»»
const loadAndSortFiles = async (path: string) => {
  const files = await readFiles(path);      // I/O
  const sorted = sortFiles(files);          // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
  dispatch({ type: 'SET_FILES', sorted });  // çŠ¶æ…‹ç®¡ç†
};

// âœ… è²¬ä»»ã®åˆ†é›¢
const loadFiles = async (path: string) => await fs.readDirectory(path);
const sortFiles = (files: FileItem[], config: SortConfig) => [...files].sort(compareFn);
const updateFileState = (files: FileItem[]) => dispatch({ type: 'SET_FILES', files });
```

### 3. é–‹æ”¾/é–‰é–åŸå‰‡ï¼ˆOCPï¼‰

- æ–°ã—ã„æ©Ÿèƒ½è¿½åŠ æ™‚ã«æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãªã„
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ‹¡å¼µæ€§ã‚’ç¢ºä¿

## ğŸ§ª ãƒ†ã‚¹ãƒˆè¨­è¨ˆåŸå‰‡

### 1. ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§

- å„ãƒ†ã‚¹ãƒˆã¯ä»–ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„
- ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã‚’é¿ã‘ã‚‹
- ãƒ†ã‚¹ãƒˆé–“ã§ã®ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã‚’æ’é™¤

### 2. Arrange-Act-Assert ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
test('should sort files by name', () => {
  // Arrange
  const files = createTestFiles();
  
  // Act
  const sorted = sortFiles(files, { sortBy: 'name' });
  
  // Assert
  expect(sorted[0].name).toBe('a.txt');
});
```

### 3. ãƒ¢ãƒƒã‚¯ã®æœ€å°åŒ–

- å¿…è¦æœ€å°é™ã®ãƒ¢ãƒƒã‚¯ã®ã¿ä½¿ç”¨
- å®Ÿè£…ã«è¿‘ã„ãƒ¢ãƒƒã‚¯ã‚’ä½œæˆï¼ˆMockFileSystemServiceï¼‰
- ãƒ¢ãƒƒã‚¯ãŒè¤‡é›‘ = è¨­è¨ˆã®è¦‹ç›´ã—ã‚µã‚¤ãƒ³

## ğŸ“ ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### 1. ç´”ç²‹é–¢æ•°ã®å„ªå…ˆ

```typescript
// âœ… ç´”ç²‹é–¢æ•°
export const filterFiles = (
  files: FileItem[], 
  options: FilterOptions
): FileItem[] => {
  return files.filter(file => matchesFilter(file, options));
};
```

### 2. æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³

```typescript
// âœ… æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³
if (!isValid(input)) {
  return { success: false, error: 'Invalid input' };
}

// ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
```

### 3. å‹ã®æ˜ç¤º

```typescript
// âœ… æ˜ç¤ºçš„ãªå‹å®šç¾©
interface FileOperationResult<T> {
  success: boolean;
  data?: T;
  error?: string;
}
```

## ğŸ”„ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æŒ‡é‡

### ã„ã¤ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã¹ãã‹

1. **ãƒ†ã‚¹ãƒˆãŒæ›¸ãã¥ã‚‰ã„ã¨ã**
   - ãƒ¢ãƒƒã‚¯ãŒè¤‡é›‘
   - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¤§é‡
   - `any` å‹ã‚’ä½¿ã‚ã–ã‚‹ã‚’å¾—ãªã„

2. **å¤‰æ›´ãŒå›°é›£ãªã¨ã**
   - å°ã•ãªå¤‰æ›´ãŒåºƒç¯„å›²ã«å½±éŸ¿
   - åŒã˜ã‚ˆã†ãªä¿®æ­£ã‚’è¤‡æ•°ç®‡æ‰€ã§å®Ÿæ–½
   - å‰¯ä½œç”¨ã®äºˆæ¸¬ãŒå›°é›£

3. **ç†è§£ãŒå›°é›£ãªã¨ã**
   - é–¢æ•°ãŒé•·ã™ãã‚‹ï¼ˆ> 30è¡Œï¼‰
   - ãƒã‚¹ãƒˆãŒæ·±ã„ï¼ˆ> 3ãƒ¬ãƒ™ãƒ«ï¼‰
   - åå‰ã‹ã‚‰å‹•ä½œãŒäºˆæ¸¬ã§ããªã„

## ğŸš€ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æ–°ã—ã„æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹å‰ã«ï¼š

- [ ] ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ãŸã‹ï¼Ÿ
- [ ] ç´”ç²‹é–¢æ•°ã¨ã—ã¦å®Ÿè£…ã§ãã‚‹éƒ¨åˆ†ã‚’åˆ†é›¢ã—ãŸã‹ï¼Ÿ
- [ ] ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã‘ã‚‹ã‹ï¼Ÿ
- [ ] ä¾å­˜æ€§æ³¨å…¥ãŒå¯èƒ½ã‹ï¼Ÿ
- [ ] å‹å®‰å…¨æ€§ã¯ç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ

## ğŸ“š å‚è€ƒè³‡æ–™

- [SOLIDåŸå‰‡](https://en.wikipedia.org/wiki/SOLID)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Dependency Injection](https://martinfowler.com/articles/injection.html)

---

*æœ€çµ‚æ›´æ–°: 2025-01-10*  
*æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼: 2025-02-10*